@prefix log: <http://www.w3.org/2000/10/swap/log#> .
@prefix math: <http://www.w3.org/2000/10/swap/math#>.
@prefix : <http://semex.sigmanoise.com/r3/life-sim#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix e: <http://eulersharp.sourceforge.net/2003/03swap/log-rules#> .
@prefix list: <http://www.w3.org/2000/10/swap/list#>.
@prefix string: <http://www.w3.org/2000/10/swap/string#>.
@prefix diff: <http://www.w3.org/2004/delta#>.
@prefix var: <http://www.w3.org/2000/10/swap/var#>.

@prefix solid: <http://www.w3.org/ns/solid/terms#>.


:食物 :super-class :消耗品.
:消耗品 :super-class :物品.
:主动物品 :super-class :物品.
:被动物品 :super-class :物品. 

# 高稀有度的物品优先级更高。同稀有度，排名越靠前的优先级更高。

:蓬莱的不死药  a :食物;
    :描述 '''
朦胧的玉瓶中盛着虚幻的光晕。
传闻中采自东海仙岛的神秘灵药。服下它的人可以跨越生与死的境界，重伤濒死之人亦能立即痊愈，然而代价却是永恒的孤寂。
''';
    :稀有度 :橙;
    :影响 (:变量替换 {:self :死亡 false});
    :元影响 {
        {
            ?x a solid:InsertDeletePatch; solid:inserts {:self :死亡 true}.
            #{?x solid:inserts {:self :死亡 true}} e:becomes {?x solid:inserts {:self :死亡 false}}.
        } => true.
    };
.

:aptx-4869
    a :食物;
    :稀有度 :橙;
    :描述 "红白相间的药丸。服下它的人有一半可能回到8岁，有一半可能死掉";
    :服用效果 (
        [
            :后果替换  {:self :年龄 8};
            :概率   :有时;
        ]
        [
            :后果替换   {:self :死亡 true};
            :概率   :有时;
        ]
    )
.


{:当前动作 a :吃; :吃的对象 ?x. ?x :服用效果 ?list} => {}.


:苹果
    a :食物;
.

:仙丹  
    a :主动物品, :消耗品, :食物;
    :名称 "仙丹";
    :描述 "能够瞬间治愈任何疾病";
.

:红肚兜
    a :被动物品, :消耗品;
    :名称 "红肚兜";
    :描述 "小时候能抵挡一次死亡";
.


:玉佩
    a :被动物品;
    :名称 "玉佩";
    :描述 "有概率抵挡体质降低，每次成功抵挡有概率碎裂";
    :元影响 {
        {
            :当前变化 :变量增量 {:self :体质 ?v}.
            ?v math:lessThan 0.
            {:当前变化 :变量增量 {:self :体质 ?v}.} e:becomes {}.
        } => true.
    };
.

# :self :拥有物品 :玉佩.

:小红给的棒棒糖
    a :食物;
    :稀有度 :橙;
    :描述 "使你拥有的所有的消耗品变成非消耗品";
.

:时间机器
    a :主动物品;
    :稀有度 :橙;
    :描述   "可以逆转时间，回到过去……";
.

:游戏机
    a   :主动物品;
    :稀有度 :紫;
    :描述   "打电动的时候总是非常快乐";
.


:玄铁重剑
    a   :装备;
    :稀有度 :紫;
    :描述   "传说中的神雕大侠用过的剑, 很重";
.

:任意门
    a   :主动物品;
    :稀有度 :橙;
    :描述   "可以瞬间移动到任何地方";
.